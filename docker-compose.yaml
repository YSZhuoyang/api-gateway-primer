version: "3.7"
services:
  gateway-envoy:
    build:
      context: ./gateway
      dockerfile: ./Dockerfile
    networks:
      - envoymesh
    expose:
      - "80"
      - "8001"
    ports:
      - "80:80"
      - "8001:8001"

  go-service:
    build:
      context: ./go-service
      dockerfile: ./Dockerfile
    networks:
      envoymesh:
    expose:
      - "81"
    ports:
      - "81:81"

  dotnet-service:
    build:
      context: ./dotnet-service
      dockerfile: ./Dockerfile
    networks:
      envoymesh:
    expose:
      - "82"
    ports:
      - "82:82"

networks:
  envoymesh: {}
